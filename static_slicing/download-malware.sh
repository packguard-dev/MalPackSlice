#!/bin/bash
# Malware sample download script for Docker container use only
# Downloads 10 real JavaScript malware samples from HynekPetrak collection
# WARNING: Execute this script ONLY inside isolated Docker containers

set -e

echo "Downloading 10 real malware samples from HynekPetrak collection..."
# Ensure directory exists
mkdir -p "$(dirname "$0")/src/main/resources/input/malware_samples"
cd "$(dirname "$0")/src/main/resources/input/malware_samples"

# Download samples from verified public malware repository
wget -q https://raw.githubusercontent.com/HynekPetrak/javascript-malware-collection/master/2015/20150815/20150815_472437dbed17bc3979e27ff820214cf1.js -O real_malware_1.js
wget -q https://raw.githubusercontent.com/HynekPetrak/javascript-malware-collection/master/2015/20150820/20150820_525fa73a3cae382500ef362f5308dd00.js -O real_malware_2.js
wget -q https://raw.githubusercontent.com/HynekPetrak/javascript-malware-collection/master/2015/20150821/20150821_261f19fd4b2b0007f63e43291b044f9a.js -O real_malware_3.js
wget -q https://raw.githubusercontent.com/HynekPetrak/javascript-malware-collection/master/2015/20150823/20150823_85753f646d868bdabc46c21b4cb95f4a.js -O real_malware_4.js
wget -q https://raw.githubusercontent.com/HynekPetrak/javascript-malware-collection/master/2015/20150824/20150824_1432b12a0fca307ccf4664c4027b2e82.js -O real_malware_5.js
wget -q https://raw.githubusercontent.com/HynekPetrak/javascript-malware-collection/master/2015/20150902/20150902_657e4f65368670891340fc45e73b9caa.js -O real_malware_6.js
wget -q https://raw.githubusercontent.com/HynekPetrak/javascript-malware-collection/master/2015/20150909/20150909_3048aa74da6d4a0e397d95c9967f2758.js -O real_malware_7.js
wget -q https://raw.githubusercontent.com/HynekPetrak/javascript-malware-collection/master/2015/20150909/20150909_570c73f78f2569911197d48b34d277ff.js -O real_malware_8.js
wget -q https://raw.githubusercontent.com/HynekPetrak/javascript-malware-collection/master/2015/20151124/20151124_e1dd1e7e8324d022f6b60b3caa0db7f3.js -O real_malware_9.js
wget -q https://raw.githubusercontent.com/HynekPetrak/javascript-malware-collection/master/2015/20151130/20151130_522c53a1cc378236f9abc058cbf872c2.js -O real_malware_10.js

echo "Successfully downloaded 10 real malware samples"
ls -lh real_malware_*.js